{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\n// create elements object\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    emailLabel: document.querySelector('[name=\"email\"]'),\n    messageLabel: document.querySelector('[name=\"message\"]'),\n};\n\n// create CONST\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {};\n\nlocalStorageValue();\n\n// create listeners\nrefs.form.addEventListener('submit', onFormSubmit);\n// added throttle\nrefs.form.addEventListener('input', throttle(onFormInput, 500));\n// refs.emailLabel.addEventListener('input', throttle(onEmailInput, 500));\n\nfunction onFormInput() {\n\n    formData[refs.emailLabel.name] = refs.emailLabel.value;\n    formData[refs.messageLabel.name] = refs.messageLabel.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n};\n\nfunction onFormSubmit(evt) {\n    // stop reboot page\n    evt.preventDefault();\n    // console.log('Submit email');\n    // clear form\n    evt.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    // print object to console\n    console.log(formData);\n}\n\n// checking\nfunction localStorageValue() {\n\n    if (localStorage.getItem(STORAGE_KEY)) {\n            refs.emailLabel.value = JSON.parse(localStorage.getItem(STORAGE_KEY)).email;\n            refs.messageLabel.value = JSON.parse(localStorage.getItem(STORAGE_KEY)).message; \n    }\n}\n"],"names":["refs","STORAGE_KEY","formData","localStorageValue","onFormSubmit","throttle","onFormInput","evt"],"mappings":"mIAGA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,EAC7C,WAAY,SAAS,cAAc,gBAAgB,EACnD,aAAc,SAAS,cAAc,kBAAkB,CAC3D,EAGMC,EAAc,sBAEdC,EAAW,CAAA,EAEjBC,IAGAH,EAAK,KAAK,iBAAiB,SAAUI,CAAY,EAEjDJ,EAAK,KAAK,iBAAiB,QAASK,EAASC,EAAa,GAAG,CAAC,EAG9D,SAASA,GAAc,CAEnBJ,EAASF,EAAK,WAAW,MAAQA,EAAK,WAAW,MACjDE,EAASF,EAAK,aAAa,MAAQA,EAAK,aAAa,MACrD,aAAa,QAAQC,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC9D,CAEA,SAASE,EAAaG,EAAK,CAEvBA,EAAI,eAAc,EAGlBA,EAAI,cAAc,QAClB,aAAa,WAAWN,CAAW,EAEnC,QAAQ,IAAIC,CAAQ,CACxB,CAGA,SAASC,GAAoB,CAErB,aAAa,QAAQF,CAAW,IAC5BD,EAAK,WAAW,MAAQ,KAAK,MAAM,aAAa,QAAQC,CAAW,CAAC,EAAE,MACtED,EAAK,aAAa,MAAQ,KAAK,MAAM,aAAa,QAAQC,CAAW,CAAC,EAAE,QAEpF"}